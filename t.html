<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title id="pageTitle">فريق الأنيق</title>
   <link rel="icon" href="icon.png">
  <link rel="apple-touch-icon" href="icon.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- أيقونات الشاشة الرئيسية والمتصفح -->
  <link rel="icon" href="88.jpg" type="image/jpeg" />
  <link rel="apple-touch-icon" href="88.jpg" />

  <!-- ملف manifest -->
  <link rel="manifest" href="manifest.json" />

  <!-- إعدادات PWA -->
  <meta name="theme-color" content="#ffffff" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="mobile-web-app-capable" content="yes" />

  <!-- صورة عند مشاركة الرابط -->
  <meta property="og:image" content="88.jpg" />
  <meta property="og:image:type" content="image/jpeg" />
  <meta property="og:image:width" content="1200" />
  <meta property="og:image:height" content="630" />

  <!-- صورة عند المشاركة على تويتر -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:image" content="88.jpg" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #f9f9f9;
      color: #222;
      text-align: center;
      padding: 10px;
      margin: 0;
      transition: background-color 0.3s, color 0.3s;
    }
    h1 { color: #5a2a83; font-size: 1.8em; transition: color 0.3s; }
    .logo { width: 100px; border-radius: 10px; }

    /* 🔹 الوضع المظلم */
    body.dark-mode {
      background-color: #121212;
      color: #f1f1f1;
    }
    body.dark-mode h1 {
      color: #bb86fc;
    }
    body.dark-mode table {
      border-color: #555;
    }
    body.dark-mode th {
      background-color: #333;
    }
    body.dark-mode td {
      border-color: #555;
    }
    /* دعم الوضع المظلم للنموذج */
    body.dark-mode .form-container {
      background-color: #1e1e1e;
      border-color: #bb86fc;
    }
    body.dark-mode .form-container input {
      background-color: #333;
      color: #f1f1f1;
      border: 1px solid #555;
    }
    body.dark-mode .form-container button {
      background-color: #bb86fc;
      color: #121212;
    }
    body.dark-mode .user-info {
      color: #ddd;
    }

    /* 🔹 زر الإعدادات */
    .settings-btn {
      position: fixed;
      top: 10px;
      left: 10px;
      background-color: #5a2a83;
      color: white;
      border: none;
      padding: 8px 12px;
      font-size: 14px;
      border-radius: 6px;
      cursor: pointer;
      z-index: 1000;
    }
    .settings-menu {
      display: none;
      position: fixed;
      top: 45px;
      left: 10px;
      background: white;
      border: 1px solid #ccc;
      border-radius: 6px;
      box-shadow: 0px 2px 8px rgba(0,0,0,0.2);
      padding: 10px;
      width: 180px;
      text-align: right;
      z-index: 1000;
    }
    .settings-menu button {
      display: block;
      width: 100%;
      margin-top: 5px;
      padding: 6px;
      font-size: 14px;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      background-color: #5a2a83;
      color: white;
    }

    .images {
      display: flex;
      justify-content: center;
      gap: 10px;
      margin: 20px 0;
      flex-wrap: wrap;
    }
    .images img {
      width: 45%;
      max-width: 200px;
      height: auto;
      border-radius: 8px;
    }
    .players { margin-top: 20px; }
    table {
      margin: auto;
      border-collapse: collapse;
      width: 100%;
      max-width: 900px;
      font-size: 0.9em;
    }
    th, td {
      border: 1px solid #ccc;
      padding: 6px;
    }
    th { background-color: #ddd; }
    .contact, .insta-links { margin-top: 20px; font-size: 1em; }
    .insta-links a {
      display: block;
      margin: 5px;
      color: #833ab4;
      text-decoration: none;
    }
    .form-container {
      margin: 30px auto;
      padding: 15px;
      width: 100%;
      max-width: 320px;
      background-color: #fff;
      border: 2px solid #5a2a83;
      border-radius: 10px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }
    .form-container input {
      width: 100%;
      padding: 10px;
      margin: 8px 0;
      font-size: 16px;
      border: 1px solid #ccc;
      border-radius: 5px;
    }
    .form-container button {
      width: 100%;
      padding: 10px;
      font-size: 16px;
      background-color: #5a2a83;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }
    .user-info {
      margin-top: 15px;
      font-size: 14px;
      color: #333;
      min-height: 20px;
    }
    @media (max-width: 600px) {
      h1 { font-size: 1.5em; }
      table { font-size: 0.8em; }
      .images img { width: 48%; }
    }
  </style>
  
</head>
<body>
<!-- زر الإعدادات -->
<button class="settings-btn" onclick="toggleSettings()">⚙️ إعدادات</button>
<div class="settings-menu" id="settingsMenu">
  <button onclick="toggleDarkMode()">🌙/☀️ تبديل الوضع</button>

  <!-- زر كيف التثبيت للآيفون -->
  <button onclick="window.open('https://youtu.be/aaTsVYLTfcY', '_blank')">
    📹 كيف التثبيت (اندرويد)
  </button>

  <!-- زر كيف التثبيت للأندرويد -->
  <button onclick="window.open('https://youtu.be/ppffuiFzNM8', '_blank')">
    📹 كيف التثبيت (ايفون)
  </button>
</div>


  <h1 id="teamName">⚽ فريق الأنيق</h1>
  <img src="88.jpg" alt="شعار الأنيق" class="logo">

 <p>
    يقود فريق الأنيق المدرب <strong>حيدر السراي</strong>، وقد تمكن من الوصول إلى <strong>أربع نهائيات</strong> في بطولات كروية محلية، 
    ولكن الحظ لم يحالفه في أي منها حتى الآن. الفريق يتميز بالروح القتالية، والمهارة الجماعية، ويطمح لتحقيق أول بطولة قريبًا.
  </p>

  <p>
    رغم قلة الموارد، فإن الأنيق حصد احترام جماهير اللعبة بفضل الأداء الجميل الراقي والانضباط العالي داخل الملعب.
  </p>

  <p>
    🎖️ <strong>يكافئ فريق الأنيق لاعب الشهر</strong> لأول مرة، وكانت الجائزة من نصيب النجم <strong>أحمد إحسان</strong> 
    الذي قدم كل ما لديه داخل المستطيل الأخضر، وقاتل بروح عالية في كل مباراة، ليحصل على هذا التكريم المستحق. 
    هذا الإنجاز يعكس التزامه، ويحفّز بقية اللاعبين لبذل المزيد من الجهد والعطاء.
  </p>

  <div class="images">
    <img src="1.jpg" alt="صورة 1">
    <img src="2.jpg" alt="صورة 2">
    <img src="3.jpg" alt="صورة 3">
    <img src="4.jpg" alt="صورة 4">
  </div>
<div class="videos" style="margin: 20px 0; text-align:center;">
  


  <div class="players">
  <h1>📋 أسماء اللاعبين وأرقامهم</h1>

<table id="playersTable">
  <tr><th>الاسم</th><th>الرقم</th><th>حذف</th></tr>
</table>

<button onclick="addPlayer()" style="margin-top:10px; padding:8px 12px; background:#5a2a83; color:white; border:none; border-radius:5px;">
  ➕ إضافة لاعب
</button>
  </div>

<style>
  #playersTable {
    margin: auto;
    border-collapse: collapse;
    width: 100%;
    max-width: 600px;
    font-size: 0.9em;
  }
  #playersTable th, #playersTable td {
    border: 1px solid #ccc;
    padding: 6px;
  }
  #playersTable th {
    background-color: #ddd;
  }
  #playersTable .action-col {
    width: 10px;
    text-align: center;
  }
  #playersTable button {
    padding: 3px 6px;
    font-size: 12px;
    background: #c62828;
    color: white;
    border: none;
    border-radius: 4px;
    cursor: pointer;
  }
</style>
<div id="noteBox" style="background:#fff3cd; border:1px solid #ffeeba; padding:10px; margin:10px auto; max-width:600px; border-radius:5px; font-size:16px; color:#856404;">
  📌 <span id="noteTextDisplay">لا توجد ملاحظات حالياً</span>
</div>

  <div class="matches" style="margin-top: 30px;">
    <h2>📅 جدول المباريات</h2>
    <table id="matchesTable">
      <tr>
        <th>اليوم</th>
        <th>الملعب</th>
        <th>اللعبة</th>
        <th>الوقت</th>
        <th>المبلغ</th>
      </tr>
    </table>
  </div>
<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.13.1/firebase-app.js";
import { getDatabase, ref, onValue, push, remove } from "https://www.gstatic.com/firebasejs/10.13.1/firebase-database.js";

// --- ضع هنا إعدادات Firebase الخاصة بك (مرة واحدة فقط) ---
const firebaseConfig = {
  apiKey: "AIzaSyAkvx2qfs1vP9tpyChZJYsttT2OLFSqolg",
  authDomain: "alaniaq-98474.firebaseapp.com",
  databaseURL: "https://alaniaq-98474-default-rtdb.firebaseio.com",
  projectId: "alaniaq-98474",
  storageBucket: "alaniaq-98474.firebasestorage.app",
  messagingSenderId: "849600693135",
  appId: "1:849600693135:web:eb039d0c74adcd3a9541fa"
};

const app = initializeApp(firebaseConfig);
const db = getDatabase(app);

// كلمة المرور للإدارة (غيّرها هنا)
const ADMIN_PASSWORD = "1998";

// ----- جدول المباريات (يقرأ من المسار "matches") -----
const matchesRef = ref(db, "matches");
const matchesTable = document.getElementById("matchesTable");

// نعيد بناء جدول المباريات كل مرة تتغير البيانات (onValue)
onValue(matchesRef, (snapshot) => {
  matchesTable.innerHTML = `
    <tr>
      <th>اليوم</th>
      <th>الملعب</th>
      <th>اللعبة</th>
      <th>الوقت</th>
      <th>المبلغ</th>
    </tr>
  `;
  snapshot.forEach((child) => {
    const m = child.val() || {};
    matchesTable.innerHTML += `
      <tr>
        <td>${escapeHtml(m.day || "")}</td>
        <td>${escapeHtml(m.stadium || "")}</td>
        <td>${escapeHtml(m.game || "")}</td>
        <td>${escapeHtml(m.time || "")}</td>
        <td>${escapeHtml(m.price || "")}</td>
      </tr>
    `;
  });
});

// ----- جدول اللاعبين (المسار "players") -----
const playersRef = ref(db, "players");
const noteRef = ref(db, "note");
onValue(noteRef, (snapshot) => {
  const note = snapshot.val();
  document.getElementById("noteTextDisplay").textContent = note || "لا توجد ملاحظات حالياً";
});

const playersTable = document.getElementById("playersTable");

// نُعيد بناء جدول اللاعبين كل مرة (أي تغيّر في قاعدة البيانات)
onValue(playersRef, (snapshot) => {
  // أعد إنشاء رأس الجدول ثم أضف الصفوف
  playersTable.innerHTML = `<tr><th>الاسم</th><th>الرقم</th><th>إجراء</th></tr>`;
  snapshot.forEach((child) => {
    const p = child.val() || {};
    const key = child.key;
    const row = playersTable.insertRow(-1);
    row.insertCell(0).textContent = p.name || "";
    row.insertCell(1).textContent = p.number || "";

    const actionCell = row.insertCell(2);
    const delBtn = document.createElement("button");
    delBtn.textContent = "🗑️ حذف";
    delBtn.style.background = "#c62828";
    delBtn.style.color = "white";
    delBtn.style.border = "none";
    delBtn.style.padding = "5px 8px";
    delBtn.style.borderRadius = "4px";
    delBtn.style.cursor = "pointer";

    delBtn.addEventListener("click", () => {
      const pwd = prompt("أدخل كلمة المرور لحذف اللاعب:");
      if (pwd === ADMIN_PASSWORD) {
        remove(ref(db, "players/" + key))
          .then(() => alert("✅ تم حذف اللاعب"))
          .catch(err => alert("خطأ عند الحذف: " + err.message));
      } else {
        alert("❌ كلمة المرور غير صحيحة!");
      }
    });

    actionCell.appendChild(delBtn);
  });
});

// ----- دالة إضافة لاعب -----
window.addPlayer = function() {
  const name = prompt("أدخل اسم اللاعب:");
  if (!name || name.trim() === "") return;

  const number = prompt("أدخل رقم اللاعب:");
  if (!number || number.trim() === "") return;

  push(playersRef, {
    name: name.trim(),
    number: number.trim()
  }).catch(err => alert("خطأ عند الإضافة: " + err.message));
};

// ----- دالة مساعدة لحماية XSS عند إدراج نصوص في HTML -----
function escapeHtml(str) {
  return String(str)
    .replace(/&/g, "&amp;")
    .replace(/</g, "&lt;")
    .replace(/>/g, "&gt;")
    .replace(/"/g, "&quot;")
    .replace(/'/g, "&#039;");
}
</script>
</script>


  <div class="insta-links">
    <h3>📱 تابعونا على إنستغرام:</h3>
    <a href="https://instagram.com/al.aniaq_sport_" target="_blank">🔗 @al.aniaq_sport_</a>
    <a href="https://instagram.com/hhh.ri.18" target="_blank">🔗 @hhh.ri.18</a>
  </div>

  <div class="contact">
    <h3>📞 للتواصل :</h3>
    <p>رقم التواصل: <strong>+964 771 551 2965</strong></p>
  </div>

  <div class="form-container">
    <h3>📝 أدخل اسمك ورقم هاتفك</h3>
    <input type="text" id="username" placeholder="الاسم">
    <input type="tel" id="phone" placeholder="رقم الهاتف">
    <button type="button" onclick="submitForm()">إرسال</button>
    <div class="user-info" id="userInfo"></div>
  </div>

  <script>
    // ✅ تحميل الإعدادات المخزنة
    document.addEventListener("DOMContentLoaded", () => {
      const savedName = localStorage.getItem("teamName");
      const savedDarkMode = localStorage.getItem("darkMode");

      if (savedName) {
        document.getElementById("teamName").textContent = savedName;
        document.getElementById("pageTitle").textContent = savedName;
      }
      if (savedDarkMode === "true") {
        document.body.classList.add("dark-mode");
      }
    });

  
    

    function toggleDarkMode() {
      document.body.classList.toggle("dark-mode");
      localStorage.setItem("darkMode", document.body.classList.contains("dark-mode"));
    }

    function submitForm() {
      const name = document.getElementById('username').value.trim();
      const phone = document.getElementById('phone').value.trim();
      const userInfo = document.getElementById('userInfo');

      if (name === '' || phone === '') {
        userInfo.innerHTML = '<span style="color: #c62828;">الرجاء إدخال الاسم ورقم الهاتف.</span>';
        return;
      }
      const phoneRegex = /^\+?\d[\d\s\-]{6,19}$/;
      if (!phoneRegex.test(phone)) {
        userInfo.innerHTML = '<span style="color: #c62828;">رقم الهاتف غير صالح.</span>';
        return;
      }
      userInfo.innerHTML = `<span style="color: #2e7d32;">شكراً ${escapeHtml(name)} — تم استلام رقمك ${escapeHtml(phone)}.</span>`;
      document.getElementById('username').value = '';
      document.getElementById('phone').value = '';
    }
    function escapeHtml(str) {
      return str.replace(/&/g, "&amp;")
                .replace(/</g, "&lt;")
                .replace(/>/g, "&gt;")
                .replace(/"/g, "&quot;")
                .replace(/'/g, "&#039;");
    }

    function toggleSettings() {
      const menu = document.getElementById('settingsMenu');
      menu.style.display = (menu.style.display === 'block') ? 'none' : 'block';
    }

    document.addEventListener('click', (event) => {
      const menu = document.getElementById('settingsMenu');
      const btn = document.querySelector('.settings-btn');
      if (!menu.contains(event.target) && !btn.contains(event.target)) {
        menu.style.display = 'none';
      }
    });
  </script>

</body>
</html>